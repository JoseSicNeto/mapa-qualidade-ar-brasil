<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Qualidade do Ar no Brasil — Mapa Interativo</title>
    <meta
      name="description"
      content="Mapa interativo do Brasil com estados e cidades clicáveis, exibindo dados de qualidade do ar (AQI) via OpenWeather."
    />
    <meta name="theme-color" content="#2563eb" />

    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="crossorigin=""/>

    <!-- Estilos CSS -->
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header class="app-header" role="banner">
      <h1 id="app-title">Qualidade do Ar no Brasil</h1>
      <p id="app-subtitle">Clique em um estado, depois clique em uma cidade para ver o AQI e os principais poluentes.</p>
    </header>

    <main class="app-main" role="main">
      <aside class="sidebar" aria-labelledby="sidebar-title" role="complementary">
        <h2 id="sidebar-title">Painel</h2>

        <section class="panel-section" aria-labelledby="section-estado">
          <h3 id="section-estado">Estado selecionado</h3>
          <div id="estado-selecionado" class="chip" aria-live="polite">
            Nenhum
          </div>
          <div class="actions">
            <button id="btn-reset" class="btn" aria-label="Voltar à visão geral do Brasil" title="Voltar à visão geral do Brasil">
              Resetar mapa
            </button>
          </div>
        </section>

        <section class="panel-section" aria-labelledby="section-cidades">
          <h3 id="section-cidades">Cidades</h3>
          <div class="search">
            <label for="city-search" class="sr-only">Buscar cidade por nome</label>
            <input id="city-search" type="search" placeholder="Buscar cidade..." aria-label="Digite algo para filtrar as cidades."/>
          </div>
          <div id="cities-info" class="hint">
            Clique em um estado para listar as suas cidades.
          </div>
          <ul id="lista-cidades" class="city-list" role="list" aria-label="Lista de cidades">
          </ul>
        </section>

        <section class="panel-section" aria-labelledby="section-qualidade">
          <h3 id="section-qualidade">Qualidade do ar</h3>
          <div id="air-info" class="air-info" aria-live="polite">
            Selecione uma cidade para ver detalhes de AQI e poluentes.
          </div>
        </section>

        <section class="panel-section" aria-labelledby="section-status">
          <h3 id="section-status">Status</h3>
          <div id="status" class="status" role="status" aria-live="polite">
            Pronto
          </div>
        </section>
      </aside>

      <section class="map-wrap" aria-label="Mapa do Brasil com estados e cidades clicáveis">
        <div id="map" tabindex="0" role="region" aria-label="Mapa interativo"> </div>
          <!-- <div id="map-legend" class="map-legend" aria-label="Legenda de qualidade do ar"> 
            <ul class="legend" aria-label="Legenda de qualidade do ar">
              <li> <span class="legend-color aqi-1" aria-hidden="true"></span> 1: Bom </li>
              <li> <span class="legend-color aqi-2" aria-hidden="true"></span> 2: Moderado </li>
              <li> <span class="legend-color aqi-3" aria-hidden="true"></span> 3: Ruim para sensíveis </li>
              <li> <span class="legend-color aqi-4" aria-hidden="true"></span> 4: Ruim </li>
              <li> <span class="legend-color aqi-5" aria-hidden="true"></span> 5: Muito ruim </li>
            </ul>
          </div> -->
        
      </section>
    </main>

    <footer class="app-footer" role="contentinfo">
      <p>Dados do mapa: OpenStreetMap + Leaflet. Estados e municípios: IBGE. Qualidade do ar: OpenWeather.</p>
    </footer>

    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>

    <!-- Script principal -->
    <script type="module" src="/src/main.js"></script>
  </body>
</html>
